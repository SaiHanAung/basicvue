<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    -->
    <link href="../bootstrap.min.css" rel="stylesheet">
    <script src="../bootstrap.bundle.min.js"></script>
    <script src="../vue.global.js"></script>
    <style>
        .invalid {
            color: red;
            font-size: small;
        }
    </style>
</head>

<body>
    <div id="app" class="p-4">
        <form class="row g-3 p-4 mx-auto" style="max-width: 640px;" @submit="form_submit">
            <h5 class="col-12 text-success text-center">ข้อมูลสมาชิก</h5>

            <div class="col-12 fw-bold text-primary">ข้อมูลการเข้าสู่ระบบ</div>
            <div class="col-12">
                <label for="eml" class="form-label">อีเมล</label>
                <input type="email" id="eml" class="form-control" v-model.trim="email">
                <span class="invalid" v-show="!email_valid">ต้องใส่ข้อมูล</span>
            </div>
            <div class="col-md-6">
                <label for="psw1" class="form-label">รหัสผ่าน</label>
                <input type="password" id="psw1" class="form-control" v-model.trim="password1">
                <span class="invalid" v-show="!password1_valid">ต้องใส่ข้อมูล (6 - 15 อักขระ)</span>
            </div>
            <div class="col-md-6">
                <label for="psw2" class="form-label">ใส่รหัสผ่านซ้ำ</label>
                <input type="password" id="psw2" class="form-control" v-model.trim="password2">
                <span class="invalid" v-show="!password2_valid">ต้องใส่ข้อมูล</span>
                <span class="invalid" v-show="password2_valid && !password_match">ใส่รหัสผ่านไม่ตรงกัน</span>
            </div>

            <div class="col-12 fw-bold text-primary mt-5">ข้อมูลส่วนตัว</div>
            <div class="col-md-6">
                <label for="fname" class="form-label">ชื่อ</label>
                <input type="text" id="fname" class="form-control" v-model.trim="firstname">
                <span class="invalid" v-show="!firstname_valid">ต้องใส่ข้อมูล</span>
            </div>
            <div class="col-md-6">
                <label for="lname" class="form-label">นามสกุล</label>
                <input type="text" id="lname" class="form-control" v-model.trim="lastname">
                <span class="invalid" v-show="!lastname_valid">ต้องใส่ข้อมูล</span>
            </div>

            <div class="col-12">
                <label for="address" class="form-label">ที่อยู่</label>
                <textarea id="address" rows="2" class="form-control" v-model.trim="address"></textarea>
                <span class="invalid" v-show="!address_valid">ต้องใส่ข้อมูล</span>
            </div>
            <div class="col-md-5">
                <label for="province" class="form-label">จังหวัด</label>
                <select id="province" class="form-select" v-model="province">
                    <option value="กรุงเทพ">กรุงเทพ</option>
                    <option value="กระบี่">กระบี่</option>
                    <option value="กำแพงเพชร">กำแพงเพชร</option>
                    <option value="...">...</option>
                </select>
                <span class="invalid" v-show="!province_valid">ต้องเลือกจังหวัด</span>
            </div>
            <div class="col-md-3">
                <label for="zip" class="form-label">รหัสไปรษณีย์</label>
                <input type="text" id="zip" class="form-control" v-model="zip">
                <span class="invalid" v-show="!zip_valid">ต้องใส่ข้อมูลให้ถูกต้อง</span>
            </div>
            <div class="col-md-4">
                <label for="phone" class="form-label">โทร</label>
                <input type="text" id="phone" class="form-control" v-model.trim="phone">
                <span class="invalid" v-show="!phone_valid">ต้องใส่ข้อมูลให้ถูกต้อง</span>
            </div>
            <div class="col-12 text-center mt-4">
                <button type="submit" class="btn btn-primary">ตกลง</button>
            </div>
        </form>
        <div class="toast position-fixed top-50 start-50 translate-middle bg-warning" data-bs-autohide="true" data-bs-delay="2000">
            <div class="d-flex">
                <div class="toast-body d-flex align-items-center">
                    <span class="fs-6">ข้อมูลยังไม่ถูกต้องทั้งหมด กรุณาแก้ไข</span>
                </div>
                <button class="btn-close me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>
    
    <div class="bg-secondary bg-opacity-10 pt-3" style="border: 1px dashed black">
        <pre>
            &lt;div id="app" class="p-4"&gt;
                &lt;form class="row g-3 p-4 mx-auto" style="max-width: 640px;" @submit="form_submit"&gt;
                    &lt;h5 class="col-12 text-success text-center"&gt;ข้อมูลสมาชิก&lt;/h5&gt;

                    &lt;div class="col-12 fw-bold text-primary"&gt;ข้อมูลการเข้าสู่ระบบ&lt;/div&gt;
                    &lt;div class="col-12"&gt;
                        &lt;label for="eml" class="form-label"&gt;อีเมล&lt;/label&gt;
                        &lt;input type="email" id="eml" class="form-control" v-model.trim="email"&gt;
                        &lt;span class="invalid" v-show="!email_valid"&gt;ต้องใส่ข้อมูล&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;label for="psw1" class="form-label"&gt;รหัสผ่าน&lt;/label&gt;
                        &lt;input type="password" id="psw1" class="form-control" v-model.trim="password1"&gt;
                        &lt;span class="invalid" v-show="!password1_valid"&gt;ต้องใส่ข้อมูล (6 - 15 อักขระ)&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;label for="psw2" class="form-label"&gt;ใส่รหัสผ่านซ้ำ&lt;/label&gt;
                        &lt;input type="password" id="psw2" class="form-control" v-model.trim="password2"&gt;
                        &lt;span class="invalid" v-show="!password2_valid"&gt;ต้องใส่ข้อมูล&lt;/span&gt;
                        &lt;span class="invalid" v-show="password2_valid && !password_match"&gt;ใส่รหัสผ่านไม่ตรงกัน&lt;/span&gt;
                    &lt;/div&gt;

                    &lt;div class="col-12 fw-bold text-primary mt-5"&gt;ข้อมูลส่วนตัว&lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;label for="fname" class="form-label"&gt;ชื่อ&lt;/label&gt;
                        &lt;input type="text" id="fname" class="form-control" v-model.trim="firstname"&gt;
                        &lt;span class="invalid" v-show="!firstname_valid"&gt;ต้องใส่ข้อมูล&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-6"&gt;
                        &lt;label for="lname" class="form-label"&gt;นามสกุล&lt;/label&gt;
                        &lt;input type="text" id="lname" class="form-control" v-model.trim="lastname"&gt;
                        &lt;span class="invalid" v-show="!lastname_valid"&gt;ต้องใส่ข้อมูล&lt;/span&gt;
                    &lt;/div&gt;

                    &lt;div class="col-12"&gt;
                        &lt;label for="address" class="form-label"&gt;ที่อยู่&lt;/label&gt;
                        &lt;textarea id="address" rows="2" class="form-control" v-model.trim="address"&gt;&lt;/textarea&gt;
                        &lt;span class="invalid" v-show="!address_valid"&gt;ต้องใส่ข้อมูล&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-5"&gt;
                        &lt;label for="province" class="form-label"&gt;จังหวัด&lt;/label&gt;
                        &lt;select id="province" class="form-select" v-model="province"&gt;
                            &lt;option value="กรุงเทพ"&gt;กรุงเทพ&lt;/option&gt;
                            &lt;option value="กระบี่"&gt;กระบี่&lt;/option&gt;
                            &lt;option value="กำแพงเพชร"&gt;กำแพงเพชร&lt;/option&gt;
                            &lt;option value="..."&gt;...&lt;/option&gt;
                        &lt;/select&gt;
                        &lt;span class="invalid" v-show="!province_valid"&gt;ต้องเลือกจังหวัด&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-3"&gt;
                        &lt;label for="zip" class="form-label"&gt;รหัสไปรษณีย์&lt;/label&gt;
                        &lt;input type="text" id="zip" class="form-control" v-model="zip"&gt;
                        &lt;span class="invalid" v-show="!zip_valid"&gt;ต้องใส่ข้อมูลให้ถูกต้อง&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-4"&gt;
                        &lt;label for="phone" class="form-label"&gt;โทร&lt;/label&gt;
                        &lt;input type="text" id="phone" class="form-control" v-model.trim="phone"&gt;
                        &lt;span class="invalid" v-show="!phone_valid"&gt;ต้องใส่ข้อมูลให้ถูกต้อง&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-12 text-center mt-4"&gt;
                        &lt;button type="submit" class="btn btn-primary"&gt;ตกลง&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
                &lt;div class="toast position-fixed top-50 start-50 translate-middle bg-warning" data-bs-autohide="true" data-bs-delay="2000"&gt;
                    &lt;div class="d-flex"&gt;
                        &lt;div class="toast-body d-flex align-items-center"&gt;
                            &lt;span class="fs-6"&gt;ข้อมูลยังไม่ถูกต้องทั้งหมด กรุณาแก้ไข&lt;/span&gt;
                        &lt;/div&gt;
                        &lt;button class="btn-close me-2 m-auto" data-bs-dismiss="toast"&gt;&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            <code>
            &lt;script&gt;
                Vue.createApp({
                    data() {
                        return {
                            email: '',
                            password1: '',
                            password2: '',
                            firstname: '',
                            lastname: '',
                            address: '',
                            province: '',
                            zip: '',
                            phone: ''
                        }
                    },

                    computed: {
                        email_valid() {
                            return this.email != ''
                        },
                        password1_valid() {
                            return this.password1.length >= 6 && this.password1.length <= 15
                        },
                        password2_valid() {
                            return this.password2 != ''
                        },
                        password_match() {
                            return this.password1 == this.password2
                        },
                        firstname_valid() {
                            return this.firstname != ''
                        },
                        lastname_valid() {
                            return this.lastname != ''
                        },
                        address_valid() {
                            return this.address != ''
                        },
                        province_valid() {
                            return this.province != ''
                        },
                        zip_valid() {
                            return this.zip > 10000 && this.zip < 99999
                        },
                        phone_valid() {
                            return this.phone.length >= 10
                        },
                    },

                    methods: {
                        form_submit(event) {
                            let valid = (
                                this.email_valid &&
                                this.password_match &&
                                this.firstname_valid &&
                                this.lastname_valid &&
                                this.address_valid &&
                                this.province_valid &&
                                this.zip_valid &&
                                this.phone_valid
                            )

                            if (!valid) {
                                event.preventDefault()
                                const t = document.querySelector('.toast')
                                new bootstrap.Toast(t).show()
                            } else {
                                alert('ข้อมูลของท่านถูกจัดเก็บแล้ว')
                            }
                        }
                    }
                }).mount('#app')
            &lt;/script&gt;
            </code>
        </pre>
    </div>
    <script>
        Vue.createApp({
            data() {
                return {
                    email: '',
                    password1: '',
                    password2: '',
                    firstname: '',
                    lastname: '',
                    address: '',
                    province: '',
                    zip: '',
                    phone: ''
                }
            },

            computed: {
                email_valid() {
                    return this.email != ''
                },
                password1_valid() {
                    return this.password1.length >= 6 && this.password1.length <= 15
                },
                password2_valid() {
                    return this.password2 != ''
                },
                password_match() {
                    return this.password1 == this.password2
                },
                firstname_valid() {
                    return this.firstname != ''
                },
                lastname_valid() {
                    return this.lastname != ''
                },
                address_valid() {
                    return this.address != ''
                },
                province_valid() {
                    return this.province != ''
                },
                zip_valid() {
                    return this.zip > 10000 && this.zip < 99999
                },
                phone_valid() {
                    return this.phone.length >= 10
                },
            },

            methods: {
                form_submit(event) {
                    let valid = (
                        this.email_valid &&
                        this.password_match &&
                        this.firstname_valid &&
                        this.lastname_valid &&
                        this.address_valid &&
                        this.province_valid &&
                        this.zip_valid &&
                        this.phone_valid
                    )

                    if (!valid) {
                        event.preventDefault()
                        const t = document.querySelector('.toast')
                        new bootstrap.Toast(t).show()
                    } else {
                        alert('ข้อมูลของท่านถูกจัดเก็บแล้ว')
                    }
                }
            }
        }).mount('#app')
    </script>
</body>

</html>